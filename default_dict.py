from collections import defaultdict

orders = [
    ("–ê–Ω–Ω–∞", 2500),
    ("–ë–æ—Ä–∏—Å", 1800),
    ("–ê–Ω–Ω–∞", 3400),
    ("–î–º–∏—Ç—Ä–∏–π", 500),
    ("–ë–æ—Ä–∏—Å", 1200),
    ("–ê–Ω–Ω–∞", 1000),
]


def group_orders_by_user(orders_: list[tuple[str, int]]) -> dict[str, list[int]]:
    """
            –ù–∞–ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å, –≥–¥–µ –∫–ª—é—á ‚Äî –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è,
            –∞ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –µ–≥–æ —Å—É–º–º –∑–∞–∫–∞–∑–æ–≤.
        {
        "–ê–Ω–Ω–∞": [2500, 3400, 1000],
        "–ë–æ—Ä–∏—Å": [1800, 1200],
        "–î–º–∏—Ç—Ä–∏–π": [500]
        }
    """
    user_orders_map = defaultdict(list)
    for order in orders_:
        user_orders_map[order[0]].append(order[1])
    return dict(user_orders_map)


print(group_orders_by_user(orders))

purchases = [
    ("–µ–¥–∞", 500),
    ("—Ç–µ—Ö–Ω–∏–∫–∞", 30000),
    ("–æ–¥–µ–∂–¥–∞", 2500),
    ("–µ–¥–∞", 700),
    ("—Ç–µ—Ö–Ω–∏–∫–∞", 12000),
    ("–µ–¥–∞", 300),
]


def sum_by_category(purchases_: list[tuple[str, int]]) -> dict[str, int]:
    """
    –ù–∞–ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏—é sum_by_category(purchases: list[tuple[str, int]]) -> dict[str, int],
    –∫–æ—Ç–æ—Ä–∞—è –≤–µ—Ä–Ω—ë—Ç —Å–ª–æ–≤–∞—Ä—å, –≥–¥–µ –∫–ª—é—á ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏—è,
    –∞ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî —Å—É–º–º–∞—Ä–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –ø–æ —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.

    –≤—ã–≤–æ–¥:
    {
    "–µ–¥–∞": 1500,
    "—Ç–µ—Ö–Ω–∏–∫–∞": 42000,
    "–æ–¥–µ–∂–¥–∞": 2500
    }
    """

    purchases_amount_map = defaultdict(int)

    for purchase in purchases_:
        purchases_amount_map[purchase[0]] += purchase[1]
    return dict(purchases_amount_map)


print(sum_by_category(purchases))


def unique_cities_by_user(visits: list[tuple[str, str]]) -> dict[str, set[str]]:
    """
        visits = [
        ("–ê–Ω–Ω–∞", "–ú–æ—Å–∫–≤–∞"),
        ("–ë–æ—Ä–∏—Å", "–ü–∏—Ç–µ—Ä"),
        ("–ê–Ω–Ω–∞", "–ö–∞–∑–∞–Ω—å"),
        ("–ê–Ω–Ω–∞", "–ú–æ—Å–∫–≤–∞"),
        ("–î–º–∏—Ç—Ä–∏–π", "–ü–∏—Ç–µ—Ä"),
        ("–ë–æ—Ä–∏—Å", "–ú–æ—Å–∫–≤–∞"),
        ("–î–º–∏—Ç—Ä–∏–π", "–ö–∞–∑–∞–Ω—å"),
        ]

        –ù–∞–ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏—é unique_cities_by_user(visits: list[tuple[str, str]]) -> dict[str, set[str]],
        - –∫–æ—Ç–æ—Ä–∞—è –≤–µ—Ä–Ω—ë—Ç —Å–ª–æ–≤–∞—Ä—å,
        ‚Äî –≥–¥–µ –∫–ª—é—á ‚Äî –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è,
        ‚Äî –∞ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî –º–Ω–æ–∂–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω –ø–æ—Å–µ—Ç–∏–ª.
        üîπ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

        {
            "–ê–Ω–Ω–∞": {"–ú–æ—Å–∫–≤–∞", "–ö–∞–∑–∞–Ω—å"},
            "–ë–æ—Ä–∏—Å": {"–ü–∏—Ç–µ—Ä", "–ú–æ—Å–∫–≤–∞"},
            "–î–º–∏—Ç—Ä–∏–π": {"–ü–∏—Ç–µ—Ä", "–ö–∞–∑–∞–Ω—å"}
        }

    """
    user_visits_map = defaultdict(set[str])
    for visit in visits:
        user_visits_map[visit[0]].add(visit[1])

    return dict(user_visits_map)


print(unique_cities_by_user([("–ê–Ω–Ω–∞", "–ú–æ—Å–∫–≤–∞"),
                       ("–ë–æ—Ä–∏—Å", "–ü–∏—Ç–µ—Ä"),
                       ("–ê–Ω–Ω–∞", "–ö–∞–∑–∞–Ω—å"),
                       ("–ê–Ω–Ω–∞", "–ú–æ—Å–∫–≤–∞"),
                       ("–î–º–∏—Ç—Ä–∏–π", "–ü–∏—Ç–µ—Ä"),
                       ("–ë–æ—Ä–∏—Å", "–ú–æ—Å–∫–≤–∞"),
                       ("–î–º–∏—Ç—Ä–∏–π", "–ö–∞–∑–∞–Ω—å"), ]))
